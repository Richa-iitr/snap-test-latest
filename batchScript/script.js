const { ethers } = require("ethers");
const { abi } = require("./abi");

const provider = new ethers.providers.JsonRpcProvider(
  "https://eth-goerli.g.alchemy.com/v2/8WG748hFvcXJXMXS4KGNRKE6AXt26Vif"
);
const privateKey =
  "911f2184ace32389f9ee8ab165a17edd91077cd9f502728a0168a65deb07b9a9"; // Your private  key

const wallet = new ethers.Wallet(privateKey, provider);
const address = wallet.address;

const contractAddress = "0xaCA091817aa8fD7863833Fea1BF9f8f500Eaf795"; // Your contract address
const contract = new ethers.Contract(contractAddress, abi, wallet);

const to = [
  "0x7b5C526B7F8dfdff278b4a3e045083FBA4028790",
  "0x7b5C526B7F8dfdff278b4a3e045083FBA4028790",
  "0x7b5C526B7F8dfdff278b4a3e045083FBA4028790",
];
const data = [
  "0x617ba03700000000000000000000000065afadd39029741b3b8f0756952c74678c9cec93000000000000000000000000000000000000000000000000000000000098968000000000000000000000000004be5701ab5b2f2117332b4748020737b29a2e1d0000000000000000000000000000000000000000000000000000000000000000",
  "0xa415bcad000000000000000000000000ba8dced3512925e52fe67b1b5329187589072a55000000000000000000000000000000000000000000000001a055690d9db800000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004be5701ab5b2f2117332b4748020737b29a2e1d",
  "0x617ba037000000000000000000000000ba8dced3512925e52fe67b1b5329187589072a550000000000000000000000000000000000000000000000008ac7230489e8000000000000000000000000000004be5701ab5b2f2117332b4748020737b29a2e1d0000000000000000000000000000000000000000000000000000000000000000",
];

const sendBatchedTransactions = async () => {
  const tx = await contract.connect(wallet).sendBatchedTransactions(to, data);
  const receipt = await tx.wait();
  console.log(receipt);
};

sendBatchedTransactions();
